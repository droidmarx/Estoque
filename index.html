<!DOCTYPE html>
<html>
<head>
  <title>Controle de Estoque</title>
  <style>
    .container {
      max-width: 400px;
      margin: 0 auto;
      text-align: center;
      padding: 20px;
    }

    form{
      padding: 10px;
      margin: 20px;
      text-align: left;
      font-size: 1rem;
      background-color: #f7f7f7b6;
      border-radius: 10px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
    }
    .form-field {
      margin-bottom: 10px;
    }

    .form-field label {
      display: inline-block;
      width: 120px;
      text-align: left;
    }

    .form-field input {
      width: 200px;
    }

    #openButton {
      display: inline;
    }

    #stockDisplay {
      padding: inherit;
      margin: 20px;
      text-align: left;
      font-size: 20px;
      background-color: #f7f7f7;
      border-radius: 10px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Controle de Estoque</h1>
    <button id="openButton" onclick="toggleStock()">Abrir meu Estoque</button>
    <button onclick="showCurrentStock()">Ver meu Estoque Atual</button>
    <button onclick="copyToClipboard()">Copy</button>

    <form id="stockForm" style="display: none;">
      <div class="form-field">
        <label for="Apc">Conector APC:</label>
        <input type="number" id="apc" min="0" value="0" />
      </div>
      <div class="form-field">
        <label for="Upc">Conector UPC:</label>
        <input type="number" id="upc" min="0" value="0" />
      </div>
      <div class="form-field">
        <label for="Drop">Drop:</label>
        <input type="number" id="drop" min="0" value="0" />
      </div>
      <div class="form-field">
        <label for="Ax2">Ax2:</label>
        <input type="number" id="ax2" min="0" value="0" />
      </div>
      <div class="form-field">
        <label for="Onu">ONU:</label>
        <input type="number" id="onu" min="0" value="0" />
      </div>
      <div class="form-field">
        <label for="Fecho">Fecho:</label>
        <input type="number" id="fecho" min="0" value="0" />
      </div>
      <div class="form-field">
        <label for="Anel">Anel:</label>
        <input type="number" id="anel" min="0" value="0" />
      </div>
      <div class="form-field">
        <label for="Roldana">Roldana:</label>
        <input type="number" id="roldana" min="0" value="0" />
      </div>
      <div class="form-field">
        <label for="Fixa-fio">Fixa fio:</label>
        <input type="number" id="fixa-fio" min="0" value="0" />
      </div>
      <div class="form-field">
        <label for="Cabo-rede">Cabo de Rede:</label>
        <input type="number" id="cabo-rede" min="0" value="0" />
      </div>
      <div class="form-field">
        <label for="Conc-rj45">Conc. RJ45:</label>
        <input type="number" id="conc-rj45" min="0" value="0" />
      </div>
      <div class="form-field">
        <label for="Esticador">Esticador:</label>
        <input type="number" id="esticador" min="0" value="0" />
      </div>
      <div class="form-field">
        <label for="Kit-fusao">Kit Fusão:</label>
        <input type="number" id="kit-fusao" min="0" value="0" />
      </div>
      <button onclick="updateStock()">Enviar</button>
    </form>
    <div id="stockDisplay"></div>
  </div>

  <script>

var stock = {
      "Apc": 0,
      "Upc": 0,
      "Drop": 0,
      "Ax2": 0,
      "Onu": 0,
      "Fecho": 0,
      "Anel": 0,
      "Roldana": 0,
      "Fixa-fio": 0,
      "Cabo-rede": 0,
      "Conc-rj45": 0,
      "Esticador": 0,
      "Kit-fusao": 0
    };


    function toggleStock() {
  var stockForm = document.getElementById("stockForm");
  var openButton = document.getElementById("openButton");

  if (stockForm.style.display === "none") {
    stockForm.style.display = "block";
    openButton.innerText = "Fechar meu Estoque";
    populateStockInputs();
  } else {
    stockForm.style.display = "none";
    openButton.innerText = "Abrir meu Estoque";
  }
}

function populateStockInputs() {
  var inputs = document.getElementsByTagName("input");

  for (var i = 0; i < inputs.length; i++) {
    var input = inputs[i];
    var itemId = input.id;

    if (stock.hasOwnProperty(itemId)) {
      input.value = stock[itemId];
    }
  }
}


    

    function updateStock() {
      var inputs = document.getElementsByTagName("input");

      for (var i = 0; i < inputs.length; i++) {
        var input = inputs[i];
        stock[input.id] = parseInt(input.value);
      }

      localStorage.setItem("stock", JSON.stringify(stock));
      console.log("Estoque atualizado e armazenado no Local Storage.");
    }

    function showCurrentStock() {
      var savedStock = localStorage.getItem("stock");
      var stockDisplay = document.getElementById("stockDisplay");

      if (savedStock) {
        var currentStock = JSON.parse(savedStock);
        stockDisplay.innerText = "Estoque Atual:\n\n";

        for (var item in currentStock) {
          stockDisplay.innerText += item + ": " + currentStock[item] + "\n";
        }
      } else {
        stockDisplay.innerText = "Nenhum estoque Encontrado.";
      }
    }

    // Recupera o estoque do Local Storage, se existir
    var savedStock = localStorage.getItem("stock");
    if (savedStock) {
      stock = JSON.parse(savedStock);
    }

    function copyToClipboard() {
  var stockDisplay = document.getElementById("stockDisplay");
  var stockText = stockDisplay.innerText;

  navigator.clipboard.writeText(stockText)
    .then(function() {
      console.log("Estoque atual copiado para a área de transferência.");
      alert("Estoque atual copiado para a área de transferência.");
    })
    .catch(function(error) {
      console.error("Erro ao copiar o estoque para a área de transferência:", error);
      alert("Erro ao copiar o estoque para a área de transferência.");
    });
}



  </script>
</body>
</html>
